{% extends "base.html" %}

{% block titulo %} New Loan {% endblock %}

{% block contenido %}  

{%include '../navbar.html'%}

{%load static%}

<div class="container form--addLoan">
    <div class="row">
        <h3>{{system.Name}}</h3>
        <br><br>
    </div>
    <div class="row">
        <div class="col-3">
            <p>
                <b>Ammount:</b> ${{system.Ammount}} USD
            </p>
            <p>
                <b>Loan Term:</b> {{loanInfo.monthsTerm}} months.
            </p>
            <p>
                <b>Interest Rate:</b> {{loanInfo.interestEA}}% EA
            </p>
            <p>
                <b>Payment:</b> ${{loanInfo.monthlyPayment}} USD
            </p>
        </div>
        <div class="col-9">
            <div id="graphic"></div>
        </div>
    </div>
    <div class="row">
        <button class="button--regular" type="submit">Submit</button>
    </div>
    
</div>
<script>
    Highcharts.chart('graphic', {
        chart: {
            type: 'areaspline',
            backgroundColor: 'rgba(0,0,0,0)'
        },
        title: {
            text: 'Loan Performance'
        },
        subtitle: {
            text: ''
        },
        xAxis: {
            categories: [ {{ loanChart.categories | safe}}],
            plotBands: [{
            from: 4.5,
            to: 6.5,
            color: 'rgba(68, 170, 213, .2)'
        }]
        },
        yAxis: {
            title: {
                text: 'Payment'
            }
        },
        tooltip: {
            shared: true,
            valueSuffix: ' USD'
        },
        credits: {
            enabled: false
        },
        plotOptions: {
            areaspline: {
                fillOpacity: 0.5
            }
        },
        series: [{
            name: 'Interest',
            data: [{{ loanChart.interest | safe}}]
        }, {
            name: 'Principal',
            data: [{{ loanChart.principal | safe}}]
        }, {
            name: 'Balance',
            data: [{{ loanChart.balance | safe}}]
        }]
    });
  </script>


{% endblock %}